(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{40:function(e,t,a){e.exports=a(58)},45:function(e,t,a){},46:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),o=a(34),l=a.n(o),c=(a(45),a(10)),i=a(11),u=a(13),m=a(12),s=a(14),d=(a(46),a(8)),b=a(17),h=a(16);function E(){var e=Object(b.a)(["\n    query($id: ID){\n        book(id: $id){\n            id\n            title\n            category\n            author{\n                name\n                age\n                id\n                books{\n                    title\n                    id    \n                }\n            }\n        }\n    }\n"]);return E=function(){return e},e}function v(){var e=Object(b.a)(["\n    mutation($name: String!, $age: String!){\n        addAuthor(name: $name, age: $age) {\n            name\n            age\n        }\n    }\n"]);return v=function(){return e},e}function f(){var e=Object(b.a)(["\n    mutation($title: String!, $category: String!, $authorId: ID!){\n        addBook(title: $title, category: $category, authorId: $authorId) {\n            title\n            id\n        }\n    }\n"]);return f=function(){return e},e}function g(){var e=Object(b.a)(["\n    {\n        authors {\n            id\n            name\n        }\n    }\n"]);return g=function(){return e},e}function p(){var e=Object(b.a)(["\n    {\n        books {\n            id\n            title\n            category\n        }\n    }\n"]);return p=function(){return e},e}var k=Object(h.b)(p()),y=Object(h.b)(g()),j=Object(h.b)(f()),O=Object(h.b)(v()),N=Object(h.b)(E()),w=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"viewBookDetails",value:function(){var e=this.props.data.book;return e?r.a.createElement("div",null,r.a.createElement("h2",null,e.title),r.a.createElement("hr",null),r.a.createElement("p",null,r.a.createElement("b",null,"Category : "),e.category),r.a.createElement("p",null,r.a.createElement("b",null,"Author : "),e.author.name),r.a.createElement("p",null,r.a.createElement("b",null,"All books written by the author")),r.a.createElement("ul",null,e.author.books.map(function(e){return r.a.createElement("li",{key:e.id},e.title)}))):r.a.createElement("div",null,"No book selected")}},{key:"render",value:function(){return r.a.createElement("div",{className:"bookDetails"},r.a.createElement("br",null),this.viewBookDetails())}}]),t}(n.Component),A=Object(d.c)(N,{options:function(e){return{variables:{id:e.bookId}}}})(w),B=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={selected:null},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"viewBooks",value:function(){var e=this,t=this.props.getBooksQuery;return t.loading?r.a.createElement("div",null,"loading..."):t.books.map(function(t){return r.a.createElement("li",{className:"book",key:t.id,onClick:function(a){return e.setState({selected:t.id})}},t.title)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"bookList"},r.a.createElement("div",{className:"bookItems"},this.viewBooks()),r.a.createElement("div",null,r.a.createElement(A,{bookId:this.state.selected})))}}]),t}(n.Component),C=Object(d.b)(Object(d.c)(k,{name:"getBooksQuery"}))(B),I=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={title:"",category:"",authorId:"",name:"",age:""},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"viewAuthors",value:function(){var e=this.props.getAuthorsQuery;return e.loading?r.a.createElement("option",null,"loading authors..."):e.authors.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})}},{key:"submitBookForm",value:function(e){e.preventDefault(),this.props.addBookMutation({variables:{title:this.state.title,category:this.state.category,authorId:this.state.authorId},refetchQueries:[{query:k}]})}},{key:"submitAuthorForm",value:function(e){e.preventDefault(),this.props.addAuthorMutation({variables:{name:this.state.name,age:this.state.age},refetchQueries:[{query:y}]})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"addBook"},r.a.createElement("h4",null,"Add Author"),r.a.createElement("hr",null),r.a.createElement("form",{onSubmit:this.submitAuthorForm.bind(this)},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"Name"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{type:"text",className:"form-control",name:"name",id:"name",onChange:function(t){return e.setState({name:t.target.value})},placeholder:"Author Name"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"Age"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{type:"text",className:"form-control",name:"age",id:"age",onChange:function(t){return e.setState({age:t.target.value})},placeholder:"Author Age"}))),r.a.createElement("button",{className:"btn btn-dark submitBtn"},"+")),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("h4",null,"Add Book"),r.a.createElement("hr",null),r.a.createElement("form",{onSubmit:this.submitBookForm.bind(this)},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"Title"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{type:"text",className:"form-control",name:"title",id:"title",onChange:function(t){return e.setState({title:t.target.value})},placeholder:"Book Title"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"Category"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{type:"text",className:"form-control",name:"category",id:"category",onChange:function(t){return e.setState({category:t.target.value})},placeholder:"Book Category"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"Author"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("select",{id:"author",className:"form-control",onChange:function(t){return e.setState({authorId:t.target.value})}},r.a.createElement("option",null,"Select Author"),this.viewAuthors()))),r.a.createElement("button",{className:"btn btn-dark submitBtn"},"+")))}}]),t}(n.Component),S=Object(d.b)(Object(d.c)(y,{name:"getAuthorsQuery"}),Object(d.c)(j,{name:"addBookMutation"}),Object(d.c)(O,{name:"addAuthorMutation"}))(I),$=new h.a({uri:"/graphql"}),D=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{client:$},r.a.createElement("div",{className:"app container"},r.a.createElement("h1",{className:"text-center"},"GraphQL BookHub"),r.a.createElement("hr",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-6"},r.a.createElement(S,null)),r.a.createElement("div",{className:"col-lg-6 bookData"},r.a.createElement(C,null)))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[40,1,2]]]);
//# sourceMappingURL=main.26c0e1d0.chunk.js.map